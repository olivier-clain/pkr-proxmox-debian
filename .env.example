# Configuration Packer pour Proxmox - Multi-Hypervisor Support
# Copier ce fichier vers .env et remplir avec vos vraies valeurs
# NE JAMAIS COMMITER LE FICHIER .env !

# =============================================================================
# SINGLE HYPERVISOR MODE (for build on one hypervisor only)
# Use with: make build
# =============================================================================
export PKR_VAR_proxmox_api_url="https://10.0.0.240:8006/api2/json"
export PKR_VAR_proxmox_api_token_id="packer@pve!packer-token"
export PKR_VAR_proxmox_api_token_secret="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
export PKR_VAR_proxmox_node="server240"

# =============================================================================
# MULTI-HYPERVISOR MODE (for parallel build on all 3 hypervisors)
# Use with: make build-multi
# =============================================================================

# Hypervisor 1 - 10.0.0.240
export PKR_VAR_proxmox_api_url_hv1="https://10.0.0.240:8006/api2/json"
export PKR_VAR_proxmox_api_token_id_hv1="packer@pve!packer-token"
export PKR_VAR_proxmox_api_token_secret_hv1="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
export PKR_VAR_proxmox_node_hv1="server240"

# Hypervisor 2 - 10.0.0.235
export PKR_VAR_proxmox_api_url_hv2="https://10.0.0.235:8006/api2/json"
export PKR_VAR_proxmox_api_token_id_hv2="packer@pve!packer-token"
export PKR_VAR_proxmox_api_token_secret_hv2="yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy"
export PKR_VAR_proxmox_node_hv2="server235"

# Hypervisor 3 - 10.0.0.245
export PKR_VAR_proxmox_api_url_hv3="https://10.0.0.245:8006/api2/json"
export PKR_VAR_proxmox_api_token_id_hv3="packer@pve!packer-token"
export PKR_VAR_proxmox_api_token_secret_hv3="zzzzzzzz-zzzz-zzzz-zzzz-zzzzzzzzzzzz"
export PKR_VAR_proxmox_node_hv3="server245"

# =============================================================================
# SHARED SETTINGS
# =============================================================================

# SSH credentials (temporary, used only during build)
export PKR_VAR_ssh_password="change-this-password"

# TLS verification (set to true to skip TLS verification for self-signed certificates)
export PKR_VAR_skip_tls_verify="true"
